<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>fast - framebufferJS</title>
    <link rel="stylesheet" type="text/css" href="css/demo.css">
</head>
<body>
<canvas id="gameScreen" width="640" height="480">
    What, no canvas support? D:
</canvas>
</body>
<script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.11/require.min.js"></script>
<script type="text/javascript">

    require(['../dist/fb'], function(FB) {

        var $fb = new FB.Framebuffer({
            width: 160,
            height: 120,
            canvas: 'gameScreen',
            renderer: 'webgl'
        });

        var t = 0;
        function step() {
            t++;

            $fb.clear([0, 0, 0]);
            $fb.fillcircle(80, 60, 48, [93, 27, 175]);

            $fb.text(50 + Math.sin(t / 13) * 50, 5, "Hello Warld!", FB.hsv2rgb([t % 360, 100, 100]));

            $fb.text(25, 80, "Woooooaaaaah! FramebufferJS!".substring(0, t / 5), FB.hsv2rgb([220, FB.rand(100), FB.rand(100)]));

            for (var i = 0; i < 15; i++) {
                var x = (i ^ (i << 12)) % 160;
                var y = ((i ^ (i << 7)) + t * 4) % 120;
                $fb.pixel(x, y, [64, 64, 200]);
                $fb.pixel(x, y + 1, [64, 64, 200]);
                $fb.pixel(x, y + 2, [64, 64, 255]);
            }

            $fb.render();

            window.requestAnimationFrame(step);
        }
        window.requestAnimationFrame(step);
    });
</script>
</html>
